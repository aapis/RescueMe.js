var Detect=function(e){e=e||{};e.format=e.format||false;e.addClasses=e.addClasses||true;e.classPrefix=e.classPrefix||"default";e.installPluginUtility=e.installPluginUtility||true;var t=this.do(e);if(e.installPluginUtility){window.PluginUtility=new this.PluginUtility(t)}return t};Detect.prototype={_Navigator:window.navigator,_Browsers:{UNKNOWN:{name:"unknown",engine:"unknown",version:"0.0.0"},CHROME_WEBKIT:{name:"chrome",engine:"webkit",version:"0.0.0"},CHROME_BLINK:{name:"chrome",engine:"blink",version:"0.0.0"},FIREFOX:{name:"firefox",engine:"gecko",version:"0.0.0"},OPERA_PRESTO:{name:"opera",engine:"presto",version:"0.0.0"},OPERA_BLINK:{name:"opera",engine:"blink",version:"0.0.0"},SAFARI:{name:"safari",engine:"webkit",version:"0.0.0"},IE:{name:"ie",engine:"trident",version:"0.0.0"}},_OS:{UNKNOWN:{name:"Unknown",architecture:"32"},MAC:{name:"Mac",architecture:"32"},WINDOWS:{name:"Windows",architecture:"32"},LINUX:{name:"Linux",architecture:"32"}},"do":function(e){var t={os:this.os(),browser:this.browser(),plugins:this.plugins(e)};if(e.addClasses){this._addClasses(e,t)}return t},browser:function(e){var t=this._Navigator.userAgent.split(/\s*[;)(]\s*/),n=this._Browsers.UNKNOWN,r=this.os().system;if(/^Version/.test(t[5])&&/Safari/.test(t[5])){switch(r){case this._OS.MAC.system:this._Browsers.SAFARI.version=t[5].split(" ")[0].substring(8);break;default:this._Browsers.SAFARI.version=t[5].split(" ")[0].substring(8)}n=this._Browsers.SAFARI}if(/^Chrome/.test(t[5])&&/^AppleWebKit/.test(t[3])){switch(r){case this._OS.MAC.system:this._Browsers.CHROME_WEBKIT.version=t[5].split(" ")[0].substring(8);break;default:this._Browsers.CHROME_WEBKIT.version=t[5].split(" ")[0].substring(7)}n=this._Browsers.CHROME_WEBKIT}if(/^Chrome/.test(t[5])&&/^AppleWebKit/.test(t[3])){this._Browsers.CHROME_BLINK.version=t[5].substring(7,19);if(parseInt(this._Browsers.CHROME_BLINK.version)>=28){n=this._Browsers.CHROME_BLINK}}if(/^(Gecko|Firefox)/.test(t[4])||/^(Gecko|Firefox)/.test(t[5])){switch(r){case this._OS.LINUX.system:this._Browsers.FIREFOX.version=t[5].split(" ")[1].substring(8);break;case this._OS.WINDOWS.system:this._Browsers.FIREFOX.version=t[4].split(" ")[1].substring(8);break}n=this._Browsers.FIREFOX}if(/^MSIE/.test(t[2])){this._Browsers.IE.engine=t[5].split("/")[0];this._Browsers.IE.version=t[5].split("/")[1];n=this._Browsers.IE}return n},os:function(e){var t=this._Navigator.userAgent.split(/\s*[;)(]\s*/),n={system:this._OS.UNKNOWN.name,architecture:this._OS.UNKNOWN.architecture};bits=this._bits();switch(this._Navigator.platform.toLowerCase().split(" ")[0]||t[3].toLowerCase()){case"macintel":case"macppc":n.system=this._OS.MAC.name;n.architecture=bits?bits:this._OS.MAC.bits;break;case"win32":n.system=this._OS.WINDOWS.name;n.architecture=bits?bits:this._OS.WINDOWS.bits;break;case"linux":n.system=this._OS.LINUX.name;n.architecture=bits?bits:this._OS.LINUX.bits;break}return n},plugins:function(e){var t={};if(this._Navigator.plugins&&this._Navigator.plugins.length>1){t.content=[];if(e.format){for(var n=0;n<this._Navigator.plugins.length;n++){var r=this._Navigator.plugins[n];if(r.name)t.content.push("<li>Name: <strong>"+r.name+"</strong></li>");if(r.description)t.content.push("<li>Description: <strong>"+r.description+"</strong></li>")}t=t.content.join(" ")}else{for(var n=0;n<this._Navigator.plugins.length;n++){var r=this._Navigator.plugins[n];t.content.push({name:r.name,description:r.description,slug:this._slug(r.name)})}}}return t},_bits:function(){var e=this._Navigator.userAgent.split(/\s*[;)(]\s*/),t="";switch(this._Navigator.platform.toLowerCase().split(" ")[0]||e[3].toLowerCase()){case"macintel":t="64";break;case"macppc":t="32";break;case"win32":t=e[2].match(/wow64/i)?"64":"32";break;case"linux":break}return t},_addClasses:function(e,t){var n="",r=e.classPrefix==="default";for(var i in t){if(t[i]&&typeof t[i]==="object"){for(var s in t[i]){if(t[i][s]){if(typeof t[i][s]==="string"){if(r){document.querySelector("html").classList.add(s+"-"+t[i][s].toLowerCase())}else{document.querySelector("html").classList.add(e.classPrefix+s+"-"+t[i][s].toLowerCase())}}else{for(var o=0,u=t[i][s];o<u.length;o++){if(r){document.querySelector("html").classList.add("plugin-"+u[o].slug.toLowerCase())}else{document.querySelector("html").classList.add(e.classPrefix+"plugin-"+u[o].slug.toLowerCase())}}}}}}}},_slug:function(e){return e.split(" ").join("_").toLowerCase()},PluginUtility:function(e){var t=e;this.isInstalled=function(e){var n=0;if(e&&typeof t.plugins==="object"){for(var r=0,i=t.plugins.content;r<i.length;r++){if(e===i[r].slug){n++}}}return n>0};this.getVersion=function(e){if(e&&typeof t.plugins==="object"){for(var n=0,r=t.plugins.content;n<r.length;n++){if(r[n].slug===e){if(/\d+(\d+)?/g.test(r[n].name)||/\d+(\d+)?/g.test(r[n].description))return r[n].description.match(/\d+(\d+)?/g).join(".")}}}return false}}}